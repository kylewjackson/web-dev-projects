(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),i=n.n(l),o=(n(16),n(17),n(2)),d=n(10),s=n(1),u=n(3),c=n(4),m=n(6),h=n(5),p=n(7);n(18);function f(e){return r.a.createElement("svg",{viewBox:"0 0 161 118",fill:e.fillColor,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7455 118C36.3729 118 41.7455 112.627 41.7455 106C41.7455 99.3726 36.3729 94 29.7455 94C23.118 94 17.7455 99.3726 17.7455 106C17.7455 112.627 23.118 118 29.7455 118ZM29.7559 99C33.6276 99 36.7663 102.139 36.7663 106.01C36.7663 109.882 33.6276 113.021 29.7559 113.021C25.8841 113.021 22.7455 109.882 22.7455 106.01C22.7455 102.139 25.8841 99 29.7559 99Z",fill:e.fillColor}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M120.745 118C127.373 118 132.745 112.627 132.745 106C132.745 99.3726 127.373 94 120.745 94C114.118 94 108.745 99.3726 108.745 106C108.745 112.627 114.118 118 120.745 118ZM120.756 99C124.628 99 127.766 102.139 127.766 106.01C127.766 109.882 124.628 113.021 120.756 113.021C116.884 113.021 113.745 109.882 113.745 106.01C113.745 102.139 116.884 99 120.756 99Z",fill:e.fillColor}),r.a.createElement("path",{d:"M128.912 95.5984C138.245 104 137.836 67.6774 127.338 72.4913C124.713 78.7495 131.839 81.1565 128.912 95.5984Z",fill:e.fillColor}),r.a.createElement("path",{d:"M14.7455 94.5C14.7455 93.1193 15.8647 92 17.2455 92H131.245C132.626 92 133.745 93.1193 133.745 94.5C133.745 95.8807 132.626 97 131.245 97H17.2455C15.8647 97 14.7455 95.8807 14.7455 94.5Z",fill:e.fillColor}),r.a.createElement("path",{d:"M132.324 24.1614L141.207 8.77422H156.486C158.442 8.77422 160.029 7.18795 160.029 5.23118V3.54303C160.029 1.58627 158.442 0 156.486 0H139.274C138.893 0 138.526 0.060201 138.182 0.171615C136.926 0.13972 135.692 0.778166 135.02 1.94258L125.745 18.0066H127.324C130.085 18.0066 132.324 20.2452 132.324 23.0066V24.1614Z",fill:e.fillColor}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00209 18C1.7958 18 -0.581876 20.9752 0.125178 24.1026L10.8971 71.7478C11.3972 73.9598 13.3235 75.5582 15.5897 75.6418L128.561 79.8087C131.393 79.9132 133.745 77.6458 133.745 74.8121V23C133.745 20.2385 131.507 18 128.745 18H5.00209ZM15.0154 23C11.8048 23 9.42628 25.9826 10.1407 29.1126L18.4087 65.3342C18.9043 67.5054 20.7761 69.087 22.9994 69.2135L119.462 74.6995C122.33 74.8626 124.745 72.5806 124.745 69.7075V28C124.745 25.2385 122.507 23 119.745 23H15.0154Z",fill:e.fillColor}),r.a.createElement("path",{d:"M7.74546 29H124.473V31H7.74546V29Z",fill:e.fillColor}),r.a.createElement("path",{d:"M7.74546 41H124.473V43H7.74546V41Z",fill:e.fillColor}),r.a.createElement("path",{d:"M7.74546 53H124.473V55H7.74546V53Z",fill:e.fillColor}),r.a.createElement("path",{d:"M12.7455 65H124.745V67H12.7455V65Z",fill:e.fillColor}),r.a.createElement("path",{d:"M125.745 21V76H123.2L123.2 21H125.745Z",fill:e.fillColor}),r.a.createElement("path",{d:"M109.2 21L109.2 76H106.655L106.655 21H109.2Z",fill:e.fillColor}),r.a.createElement("path",{d:"M92.6545 21V76H90.1091L90.1091 21H92.6545Z",fill:e.fillColor}),r.a.createElement("path",{d:"M76.1091 21V76H73.5636V21H76.1091Z",fill:e.fillColor}),r.a.createElement("path",{d:"M59.7455 20L59.7455 75H56.7455L56.7455 20H59.7455Z",fill:e.fillColor}),r.a.createElement("path",{d:"M42.7455 21L42.7455 71H40.7455L40.7455 21H42.7455Z",fill:e.fillColor}),r.a.createElement("path",{d:"M26.7455 21L26.7455 71H23.7455L23.7455 21H26.7455Z",fill:e.fillColor}))}function g(e){return r.a.createElement("svg",{viewBox:"0 0 44 22",fill:e.fillColor,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M23.3354 1.19782C22.5756 0.516274 21.4244 0.516275 20.6646 1.19782L1.64095 18.2612C0.275219 19.4862 1.14175 21.75 2.97637 21.75L41.0236 21.75C42.8583 21.75 43.7248 19.4862 42.3591 18.2612L23.3354 1.19782Z",fill:e.fillColor}))}function b(e){return r.a.createElement("svg",{viewBox:"0 0 31 29",fill:e.fillColor,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 0L18.98 10.7102H30.2414L21.1307 17.3295L24.6107 28.0398L15.5 21.4205L6.38933 28.0398L9.8693 17.3295L0.758625 10.7102H12.02L15.5 0Z",fill:e.fillColor}))}function v(e){return r.a.createElement("svg",{viewBox:"0 0 31 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 1.61804L18.5044 10.8647L18.6167 11.2102H18.98H28.7025L20.8368 16.925L20.5429 17.1385L20.6552 17.484L23.6596 26.7307L15.7939 21.016L15.5 20.8024L15.2061 21.016L7.34039 26.7307L10.3448 17.484L10.4571 17.1385L10.1632 16.925L2.29747 11.2102H12.02H12.3833L12.4956 10.8647L15.5 1.61804Z",stroke:e.strokeColor}))}function I(e){return r.a.createElement("svg",{viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 1.61804L18.5044 10.8647L18.6167 11.2102H18.98H28.7025L20.8368 16.925L20.5429 17.1385L20.6552 17.484L23.6596 26.7307L15.7939 21.016L15.5 20.8024L15.2061 21.016L7.34039 26.7307L10.3448 17.484L10.4571 17.1385L10.1632 16.925L2.29747 11.2102H12.02H12.3833L12.4956 10.8647L15.5 1.61804Z",stroke:e.strokeColor}),r.a.createElement("path",{d:"M6.38931 28.0398L15.5 21.4205V0L12.02 10.7102H0.758606L9.86928 17.3295L6.38931 28.0398Z",fill:e.fillColor}))}function w(e){return r.a.createElement("svg",{viewBox:"0 0 10 10",fill:e.fillColor,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M3.71428 1.28571C3.71428 0.575634 4.28991 0 5 0C5.71008 0 6.28571 0.575634 6.28571 1.28571V8.71429C6.28571 9.42437 5.71008 10 5 10C4.28991 10 3.71428 9.42437 3.71428 8.71429V1.28571Z",fill:e.fillColor}),r.a.createElement("path",{d:"M8.71429 3.71427C9.42437 3.71427 10 4.2899 10 4.99998C10 5.71006 9.42437 6.2857 8.71429 6.2857L1.28571 6.2857C0.575634 6.2857 -3.10386e-08 5.71006 0 4.99998C3.10386e-08 4.2899 0.575634 3.71427 1.28571 3.71427L8.71429 3.71427Z",fill:e.fillColor}))}function E(e){return r.a.createElement("svg",{viewBox:"0 0 10 3",fill:e.fillColor,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{x:"10",width:"2.57143",height:"10",rx:"1.28571",transform:"rotate(90 10 0)",fill:e.fillColor}))}function C(e){return r.a.createElement("svg",{viewBox:"0 0 21 21",fill:e.fillColor,opacity:e.opacity?e.opacity:1,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M19.0364 8.95659C19.0364 8.95659 14.7836 8.95659 13.447 8.59774C12.1104 8.23888 8.34368 8.47812 8.34368 8.47812V20.44H19.0364V8.95659Z",fill:e.fillColor}),r.a.createElement("path",{d:"M20.4814 10.0747C20.4814 9.40901 19.9498 8.86939 19.294 8.86939H15.3572C14.7014 8.86939 14.1698 9.40901 14.1698 10.0747C14.1698 10.7403 14.7014 11.2799 15.3572 11.2799H19.294C19.9498 11.2799 20.4814 10.7403 20.4814 10.0747Z",fill:e.fillColor}),r.a.createElement("path",{d:"M21 12.8888C21 12.1107 20.3786 11.48 19.6121 11.48H16.0763C15.3098 11.48 14.6884 12.1107 14.6884 12.8888C14.6884 13.6668 15.3098 14.2975 16.0763 14.2975H19.6121C20.3786 14.2975 21 13.6668 21 12.8888Z",fill:e.fillColor}),r.a.createElement("path",{d:"M21 15.9688C21 15.1907 20.3786 14.56 19.6121 14.56H16.0763C15.3098 14.56 14.6884 15.1907 14.6884 15.9688C14.6884 16.7468 15.3098 17.3775 16.0763 17.3775H19.6121C20.3786 17.3775 21 16.7468 21 15.9688Z",fill:e.fillColor}),r.a.createElement("path",{d:"M20.5145 19.0312C20.5145 18.2532 19.8931 17.6225 19.1266 17.6225H15.5908C14.8243 17.6225 14.2029 18.2532 14.2029 19.0312C14.2029 19.8093 14.8243 20.44 15.5908 20.44H19.1266C19.8931 20.44 20.5145 19.8093 20.5145 19.0312Z",fill:e.fillColor}),r.a.createElement("path",{d:"M11.5684 4.14526C11.8955 3.10605 12.1292 -0.389479 14.2323 0.0356662C15.3461 0.260839 14.9858 3.49484 14.4803 5.95184C14.2438 7.10149 12.8066 8.15737 13.447 8.68L8.34368 8.54L11.5684 4.14526Z",fill:e.fillColor}),r.a.createElement("path",{d:"M5.58511 7.84H2.81878C2.13143 7.84 1.54898 8.35368 1.45301 9.04452L0.0137646 19.4045C-0.103294 20.2471 0.541181 21 1.37954 21H5.58511C6.34687 21 6.9644 20.3732 6.9644 19.6V9.24C6.9644 8.4668 6.34687 7.84 5.58511 7.84Z",fill:e.fillColor}))}function y(e){return r.a.createElement("svg",{viewBox:"0 0 21 21",fill:e.fillColor,opacity:e.opacity?e.opacity:1,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M1.96358 12.0434C1.96358 12.0434 6.21637 12.0434 7.55296 12.4023C8.88956 12.7611 12.6563 12.5219 12.6563 12.5219V0.559999H1.96358V12.0434Z",fill:e.fillColor}),r.a.createElement("path",{d:"M0.518612 10.9253C0.518612 11.591 1.05025 12.1306 1.70605 12.1306H5.64278C6.29859 12.1306 6.83022 11.591 6.83022 10.9253C6.83022 10.2597 6.29858 9.72007 5.64278 9.72007H1.70605C1.05025 9.72007 0.518612 10.2597 0.518612 10.9253Z",fill:e.fillColor}),r.a.createElement("path",{d:"M0 8.11124C0 8.88928 0.621389 9.52 1.38791 9.52H4.9237C5.69022 9.52 6.31161 8.88928 6.31161 8.11124C6.31161 7.33321 5.69022 6.70249 4.9237 6.70249H1.38791C0.621389 6.70249 0 7.33321 0 8.11124Z",fill:e.fillColor}),r.a.createElement("path",{d:"M0 5.03124C0 5.80928 0.621389 6.44 1.38791 6.44H4.9237C5.69022 6.44 6.31161 5.80928 6.31161 5.03124C6.31161 4.25321 5.69022 3.62249 4.9237 3.62249H1.38791C0.621389 3.62249 0 4.25321 0 5.03124Z",fill:e.fillColor}),r.a.createElement("path",{d:"M0.485512 1.96876C0.485512 2.7468 1.1069 3.37752 1.87342 3.37752H5.40921C6.17573 3.37752 6.79712 2.7468 6.79712 1.96876C6.79712 1.19073 6.17573 0.560003 5.40921 0.560003H1.87342C1.1069 0.560003 0.485512 1.19073 0.485512 1.96876Z",fill:e.fillColor}),r.a.createElement("path",{d:"M9.43162 16.8547C9.10447 17.8939 8.8708 21.3895 6.76773 20.9643C5.65387 20.7392 6.01425 17.5052 6.5197 15.0482C6.75621 13.8985 8.19344 12.8426 7.55296 12.32L12.6563 12.46L9.43162 16.8547Z",fill:e.fillColor}),r.a.createElement("path",{d:"M15.4149 13.16H18.1812C18.8686 13.16 19.451 12.6463 19.547 11.9555L20.9862 1.59548C21.1033 0.752867 20.4588 0 19.6205 0H15.4149C14.6531 0 14.0356 0.626802 14.0356 1.4V11.76C14.0356 12.5332 14.6531 13.16 15.4149 13.16Z",fill:e.fillColor}))}var k="/react-product-page/images/";function S(e){return JSON.parse(JSON.stringify(e))}function x(e,t){return Array(e).fill(t).map((function(e,t){return"".concat(k).concat(e,"-").concat(t+1,".jpg")}))}var F="#EFEFEF",L="#0F0F0F",B="#383838",M="#FFF59B",N="#9E1800";function R(e){if(e.match(/[-!$%^&*()_+|~=`{}[\]:";'<>?,.\/]/))return!1;var t=/\s/g;return e.split("").map((function(e){return e.match(t)?"-":e.toLowerCase()})).join("")}var q=Array(3).fill(null).map((function(e,t){return{name:"Option ".concat(t+1),id:"opt-".concat(t+1)}})),O={prodName:"Your Product",prodId:null,opt:"",qty:1,price:10.5,thumb:x(3,"jar")};O.prodId=R(O.prodName);var H=[{prodName:"Product 1",prodId:null,opt:q[2].id,qty:1,price:29.99,thumb:x(3,"notebook")},{prodName:"Product 2",prodId:null,opt:q[1].id,qty:3,price:11.45,thumb:x(3,"necklace")}];H.forEach((function(e){return e.prodId=R(e.prodName)}));var T=9,U=[{user:"Cool User",id:null,rating:4,rated:[],publishedRating:4,review:"I love this product sooooo much, what would I do without it??",hidden:!1,feedback:{up:38,down:2},date:new Date(2018,3,10,7,45,16).toLocaleDateString("en-US",{dateStyle:"medium",timeStyle:"medium"})},{user:"Troll",id:null,rating:1,rated:[],publishedRating:1,review:"I didn\u2019t use this product correctly and I HATE IT.",hidden:!1,feedback:{up:10,down:155},date:new Date(2019,6,23,18,12,13).toLocaleDateString("en-US",{dateStyle:"medium",timeStyle:"medium"})}].sort((function(e,t){return t.feedback.up-e.feedback.up}));U.forEach((function(e){e.id=R(e.user)}));var Z=4,j={qty:parseInt(O.qty),opt:O.opt,sort:"helpful",stars:0,rated:[],loggedIn:null,openLogin:!1,openSignup:!1,user:null,userId:null,rating:null,publishedRating:null,reviewBody:"",reviewSubmitted:!1,edit:!1,itemsInCart:[],cartClosed:!0},V=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).buttonFocus=r.a.createRef(),n.container=r.a.createRef(),n.keydownCallback=function(e){"Escape"===e.key&&n.props.handleModal({act:"close"})},n.clickCallback=function(e){e.target===n.container.current&&n.props.handleModal({act:"close"})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.show?(this.buttonFocus.current.focus(),document.body.style.overflow="hidden",document.addEventListener("keydown",this.keydownCallback),document.addEventListener("click",this.clickCallback)):"hidden"===document.body.style.overflow&&(document.body.style.overflow="unset",document.removeEventListener("keydown",this.keydownCallback),document.removeEventListener("click",this.clickCallback))}},{key:"render",value:function(){var e=this,t=this.props.btn&&"number"===typeof this.props.btn.rmv?[r.a.createElement("button",{type:"button",key:"confirm-remove",ref:this.buttonFocus,onClick:function(){return e.props.handleModal({act:"close",rmv:e.props.btn.rmv})}},"Remove"),r.a.createElement("button",{type:"button",key:"cancel-remove",onClick:function(){return e.props.handleModal({act:"close"})}},"Cancel")]:r.a.createElement("button",{type:"button",onClick:function(){return e.props.handleModal({act:"close"})},ref:this.buttonFocus},"Close");return this.props.show?r.a.createElement("div",{id:"modal",className:"modal",ref:this.container},r.a.createElement("aside",{id:"modal-window",className:"modal-window",role:"dialog","aria-labelledby":"modal-message"},this.props.img?r.a.createElement("img",{src:this.props.img,alt:"main thumb in modal",className:"modal-images"}):r.a.createElement("p",{id:"modal-message"},this.props.msg?this.props.msg:""),t)):null}}]),t}(r.a.Component);function D(e){return r.a.createElement("header",null,r.a.createElement(Y,{modal:e.modal,handleModal:e.handleModal,navOpen:e.navOpen,cartClosed:e.cartClosed,itemCount:e.itemCount,itemsInCart:e.itemsInCart,toggleMenu:e.toggleMenu,loggedIn:e.loggedIn,openLogin:e.openLogin,openSignup:e.openSignup,user:e.user,preventEnter:e.preventEnter,handleInput:e.handleInput,handleButton:e.handleButton,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,handleUsername:e.handleUsername,handleLogin:e.handleLogin}))}function Y(e){return r.a.createElement("nav",{id:"navbar"},r.a.createElement("ul",{id:"nav-link-container"},r.a.createElement("li",{id:"nav-home",className:"links"},r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null},"Home")),r.a.createElement("li",{id:"nav-categories",className:e.navOpen?"active links":"links"},r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null,onClick:function(){return e.toggleMenu("nav")}},"Categories"),e.navOpen?r.a.createElement(A,{modal:e.modal,handleModal:e.handleModal}):""),r.a.createElement($,{modal:e.modal,loggedIn:e.loggedIn,openLogin:e.openLogin,openSignup:e.openSignup,user:e.user,handleSubmit:e.handleSubmit,handleUsername:e.handleUsername,handleLogin:e.handleLogin}),r.a.createElement(P,{modal:e.modal,itemCount:e.itemCount,toggleMenu:e.toggleMenu,handleButton:e.handleButton})),e.cartClosed?"":r.a.createElement(J,{modal:e.modal,itemsInCart:e.itemsInCart,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,handleButton:e.handleButton,preventEnter:e.preventEnter,toggleMenu:e.toggleMenu}))}function A(e){return r.a.createElement("ol",{id:"categories-links",className:"nav-links"},r.a.createElement("li",null,r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null,onClick:function(t){return e.handleModal({msg:"This link will go to a designated page, or some other action you decide on."},t)}},"Cat. 1")),r.a.createElement("li",null,r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null,onClick:function(t){return e.handleModal({msg:"This link will go to a designated page, or some other action you decide on."},t)}},"Cat. 2")),r.a.createElement("li",null,r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null,onClick:function(t){return e.handleModal({msg:"This link will go to a designated page, or some other action you decide on."},t)}},"Cat. 3")),r.a.createElement("li",null,r.a.createElement("button",{type:"button",tabIndex:e.modal?-1:null,onClick:function(t){return e.handleModal({msg:"This link will go to a designated page, or some other action you decide on."},t)}},"Cat. 4")))}function $(e){return r.a.createElement("li",{id:"nav-login",className:"login"},e.loggedIn?r.a.createElement("form",{id:"welcome-form",onSubmit:function(t){return e.handleSubmit(null,"logout",t)}},r.a.createElement("label",{htmlFor:"welcome-form"},"Hi, ",e.user,"!"),r.a.createElement("button",{type:"submit",name:"signout",value:"signout",tabIndex:e.modal?-1:null},"Sign Out")):e.openLogin?r.a.createElement("form",{id:"login-form",onSubmit:function(t){return e.handleSubmit(null,"login",t)}},r.a.createElement("label",{htmlFor:"login-input"},"You are not signed in."),r.a.createElement("input",{type:"text",id:"login-input",name:"login-input",placeholder:"enter a name to test",onChange:function(t){return e.handleUsername(t)},required:!0,tabIndex:e.modal?-1:null}),r.a.createElement("button",{type:"submit",name:"login",value:"login",tabIndex:e.modal?-1:null},"Log In"),r.a.createElement("button",{type:"button",name:"signup",value:"signup",onClick:function(t){return e.handleLogin(t)},tabIndex:e.modal?-1:null},"Need an account? Sign Up")):e.openSignup?r.a.createElement("form",{id:"sign-up-form",onSubmit:function(t){return e.handleSubmit(null,"signup",t)}},r.a.createElement("label",{htmlFor:"login-input"},"You are not signed in."),r.a.createElement("input",{type:"text",id:"login-input",name:"login-input",placeholder:"enter a name to test",onChange:function(t){return e.handleUsername(t)},required:!0,tabIndex:e.modal?-1:null}),r.a.createElement("button",{type:"submit",name:"signup",value:"signup",tabIndex:e.modal?-1:null},"Sign Up"),r.a.createElement("button",{type:"button",name:"login",value:"login",onClick:function(t){return e.handleLogin(t)},tabIndex:e.modal?-1:null},"Already have an account? Log In")):r.a.createElement("form",{id:"sign-in-form"},r.a.createElement("label",{htmlFor:"login-input"},"You are not signed in."),r.a.createElement("button",{type:"button",name:"login",value:"login",onClick:function(t){return e.handleLogin(t)},tabIndex:e.modal?-1:null},"Log In"),r.a.createElement("button",{type:"button",name:"signup",value:"signup",onClick:function(t){return e.handleLogin(t)},tabIndex:e.modal?-1:null},"Sign Up")))}function P(e){return r.a.createElement("li",{id:"nav-cart",className:"links"},r.a.createElement("button",{type:"button",onClick:function(){return e.toggleMenu("cart")},"aria-label":"open cart",tabIndex:e.modal?-1:null},r.a.createElement("span",{id:"cart-button-span"},r.a.createElement(f,{fillColor:e.itemCount>0?M:F}),r.a.createElement("span",{className:e.itemCount>0?"active":null},"Cart (",e.itemCount.toString(),")"))))}function J(e){return r.a.createElement("aside",{id:"cart"},e.itemsInCart.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{modal:e.modal,itemsInCart:e.itemsInCart,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,preventEnter:e.preventEnter}),r.a.createElement(X,{itemsInCart:e.itemsInCart}),r.a.createElement(ee,{modal:e.modal,handleButton:e.handleButton})):r.a.createElement("span",{id:"empty-cart"},"Cart is Empty"),r.a.createElement(te,{modal:e.modal,toggleMenu:e.toggleMenu}))}function W(e){var t=e.itemsInCart,n=q.map((function(e){return e.id})),a=t.map((function(t,a){return r.a.createElement(K,{key:"cart-item-".concat(a+1),modal:e.modal,index:a,itemsInCart:e.itemsInCart,prodName:t.prodName,id:"".concat(t.prodId,"-").concat(t.opt),prodId:t.prodId,thumb:t.thumb[n.indexOf(t.opt)],qty:t.qty,opt:t.opt,price:t.price,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,preventEnter:e.preventEnter})}));return r.a.createElement("ol",{id:"products-in-cart"},a)}function K(e){return r.a.createElement("li",{className:"cart-products"},r.a.createElement("img",{src:e.thumb,alt:"".concat(e.prodName," thumbnail"),id:"".concat(e.id,"-thumbnail"),className:"thumbnails"}),r.a.createElement("h3",{id:"".concat(e.id,"-title"),className:"titles"},e.prodName),r.a.createElement(_,{modal:e.modal,cart:!0,index:e.index,itemsInCart:e.itemsInCart,id:e.id,prodId:e.prodId,qty:e.qty,opt:e.opt,price:e.price,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,preventEnter:e.preventEnter}))}function _(e){return r.a.createElement("form",{id:"".concat(e.id,"-form"),className:"forms",onSubmit:function(t){return e.handleSubmit(e.index,"cart",t)},onKeyPress:e.cart?function(t){return e.preventEnter(t)}:null},r.a.createElement(z,{modal:e.modal,cart:e.cart,index:e.cart?e.index:-1,id:e.id,opt:e.opt,handleInput:e.handleInput}),r.a.createElement(Q,{modal:e.modal,index:e.cart?e.index:-1,id:e.id,opt:e.opt,qty:e.qty,price:e.price,handleInput:e.handleInput,handleFocus:e.handleFocus,preventEnter:e.preventEnter}),e.cart?r.a.createElement(G,{modal:e.modal,id:e.id,index:e.index,handleSubmit:e.handleSubmit}):r.a.createElement(ce,{modal:e.modal,prodId:e.prodId,id:e.id,itemsInCart:e.itemsInCart,qty:e.qty,opt:e.opt,checkIfInCart:e.checkIfInCart}))}function Q(e){return r.a.createElement("div",{id:"".concat(e.id,"-quantity-container"),className:"quantities"},e.index>-1?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"".concat(e.id,"-quantity"),"aria-label":"item quantity"},"$".concat(e.price.toFixed(2)," x ")),r.a.createElement("input",{type:"number",id:"".concat(e.id,"-quantity"),name:"".concat(e.id,"-quantity"),value:e.qty,min:"1",max:T,onChange:function(t){return e.handleInput({ind:e.index,type:"qty"},t)},onFocus:function(t){return e.handleFocus(t)},tabIndex:e.modal?-1:null,required:!0}),r.a.createElement("strong",{"aria-label":"price",className:"prices"}," = $".concat((e.qty*e.price*100/100).toFixed(2)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"".concat(e.id,"-quantity"),"aria-label":"item quantity"},"Qty."," "),r.a.createElement("button",{type:"button",className:"icons quantity-decrease",onClick:function(){return e.handleInput({ind:e.index,type:"qty",add:!1},parseInt(e.qty))},disabled:1===e.qty||null,tabIndex:e.modal?-1:null},r.a.createElement(E,{fillColor:B})),r.a.createElement("input",{type:"number",id:"".concat(e.id,"-quantity"),name:"".concat(e.id,"-quantity"),value:e.qty,min:"1",max:T,onChange:function(t){return e.handleInput({ind:e.index,type:"qty"},t)},onFocus:function(t){return e.handleFocus(t)},tabIndex:e.modal?-1:null,required:!0}),r.a.createElement("button",{type:"button",className:"icons quantity-increase",onClick:function(){return e.handleInput({ind:e.index,type:"qty",add:!0},parseInt(e.qty))},disabled:e.qty===T||null,tabIndex:e.modal?-1:null},r.a.createElement(w,{fillColor:B}))))}function z(e){return r.a.createElement("div",{id:"".concat(e.id,"-options-container"),className:"options"},r.a.createElement("label",{htmlFor:"".concat(e.id,"-options")},"Options:"),r.a.createElement("select",{id:"".concat(e.id,"-options"),name:"".concat(e.id,"-options"),value:e.opt,onChange:function(t){return e.handleInput({ind:e.index,type:"opt"},t)},tabIndex:e.modal?-1:null,required:!0},r.a.createElement("option",{value:"",disabled:!0},"Choose"),q.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))}function G(e){return r.a.createElement("button",{type:"button",id:"remove-".concat(e.id),className:"remove-items","aria-label":"remove from cart",onClick:function(t){return e.handleSubmit(e.index,"cart",t)},tabIndex:e.modal?-1:null},"Rmv")}function X(e){var t=e.itemsInCart.map((function(e){return e.qty*e.price*100/100})).reduce((function(e,t){return e+t})),n=1e3*t*.0825/1e3,a=100*t/100+100*n/100;return r.a.createElement("div",{id:"cart-totals-container",className:"cart-totals"},r.a.createElement("span",{id:"cart-subtotal"},"Subtotal: $",t.toFixed(2)," "),r.a.createElement("span",{id:"cart-tax"},"Tax: $",n.toFixed(2)," "),r.a.createElement("span",{id:"cart-final-total"},r.a.createElement("strong",null,"Final Total: $",a.toFixed(2)," ")))}function ee(e){return r.a.createElement("button",{type:"button",id:"checkout-button",className:"icons buttons",tabIndex:e.modal?-1:null,onClick:function(){return e.handleButton("checkout")}},r.a.createElement("span",{id:"checkout-button-span"},r.a.createElement("span",null,"Proceed to Checkout"),r.a.createElement(f,{fillColor:N})))}function te(e){return r.a.createElement("button",{type:"button",id:"close-cart-button",className:"icons",onClick:function(){return e.toggleMenu("cart")},tabIndex:e.modal?-1:null},r.a.createElement(g,{fillColor:B}))}function ne(e){var t=e.reviews.filter((function(e){return e.rating})),n=t.reduce((function(e,t){return e+t.rating}),0)/t.length,a=Math.floor(2*n)/2,l=Math.floor(n),i=Math.round(n-l),o=Z-(l+i);return r.a.createElement("main",null,r.a.createElement(ae,{modal:e.modal,handleModal:e.handleModal,itemsInCart:e.itemsInCart,prodName:e.prodName,prodId:e.prodId,thumb:e.thumb,subthumbs:e.subthumbs,qty:e.qty,opt:e.opt,price:e.price,reviews:e.reviews,reviewCount:e.reviews.filter((function(e){return e.review})).length,rating:e.rating,user:e.user,userId:e.userId,whole:l,half:i,empty:o,checkIfInCart:e.checkIfInCart,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit,handleButton:e.handleButton}),r.a.createElement(me,{modal:e.modal,prodId:e.prodId,reviews:e.reviews,sort:e.sort,stars:e.stars,publishedRating:e.publishedRating,checkFeedback:e.checkFeedback,reviewBody:e.reviewBody,reviewSubmitted:e.reviewSubmitted,editReview:e.editReview,editOpen:e.editOpen,avg:a,rating:e.rating,user:e.user,userId:e.userId,loggedIn:e.loggedIn,whole:l,half:i,empty:o,handleSubmit:e.handleSubmit,handleButton:e.handleButton,handleInput:e.handleInput,handleFocus:e.handleFocus,handleUsername:e.handleUsername,handleText:e.handleText,handleFilterReviews:e.handleFilterReviews}))}function ae(e){return r.a.createElement("section",{id:"".concat(e.prodId,"-info-container"),className:"product-info"},r.a.createElement("h1",{id:"".concat(e.prodId,"-title"),className:"titles"},e.prodName),r.a.createElement("figure",{id:"".concat(e.prodId,"-thumbnails"),className:"thumbnail-container"},r.a.createElement("button",{type:"button",id:"main-thumbnail","aria-label":"enlarge image",tabIndex:e.modal?-1:null,onClick:function(t){return e.handleModal({img:e.thumb},t)}},r.a.createElement("img",{src:e.thumb,alt:"".concat(e.prodName," main preview"),id:"".concat(e.prodId,"-main-image"),className:"main-image"})),r.a.createElement(re,{modal:e.modal,prodName:e.prodName,prodId:e.prodId,mainThumb:e.thumb,subthumbs:e.subthumbs,handleButton:e.handleButton})),r.a.createElement("form",null,e.rating?r.a.createElement(ie,{modal:e.modal,prodId:e.prodId,user:e.userId,kind:"user",section:"info",reviewer:!1,rating:e.rating,handleButton:e.handleButton}):r.a.createElement(ie,{modal:e.modal,prodId:e.prodId,kind:"avg",section:"info",whole:e.whole,half:e.half,empty:e.empty,handleButton:e.handleButton})),r.a.createElement(de,{modal:e.modal,prodId:e.prodId,reviewCount:e.reviewCount}),r.a.createElement(se,{prodId:e.prodId}),r.a.createElement(ue,{prodId:e.prodId,price:e.price}),r.a.createElement(_,{modal:e.modal,itemsInCart:e.itemsInCart,id:"".concat(e.prodId,"-product"),prodId:e.prodId,qty:e.qty,opt:e.opt,checkIfInCart:e.checkIfInCart,handleInput:e.handleInput,handleFocus:e.handleFocus,handleSubmit:e.handleSubmit}))}function re(e){var t=e.subthumbs.map((function(t,n){return r.a.createElement(le,{key:"prod-sub-".concat(n+1),modal:e.modal,prodName:e.prodName,ind:n,id:e.prodId,mainThumb:e.mainThumb,subthumb:t,handleButton:e.handleButton})}));return r.a.createElement("ol",{id:"".concat(e.prodId,"-sub-thumbnails"),className:"sub-thumbnails"},t)}function le(e){return r.a.createElement("li",{id:e.prodId,className:e.mainThumb===e.subthumb?"sub-thumbnail":"sub-thumbnail dimmed"},r.a.createElement("button",{type:"button",className:"link",disabled:e.mainThumb===e.subthumb,value:e.ind,"aria-label":"switch to thumbnail for option ".concat(e.ind+1),onClick:function(t){return e.handleButton("thumb",t)},tabIndex:e.modal?-1:null},r.a.createElement("img",{src:e.subthumb,alt:"".concat(e.prodName," thumbnail"),className:"thumbnails"})))}function ie(e){var t=[];if("user"===e.kind)if(e.rating){for(var n=e.publishedRating?e.publishedRating:e.rating,a=1;a<=n;a++)t.push(r.a.createElement(oe,{key:"".concat(e.user,"-").concat(e.kind,"-star-").concat(a),id:"".concat(e.user,"-").concat(e.kind,"-star-").concat(a),ind:a,type:e.kind,section:e.section,kind:e.kind,reviewer:e.reviewer,handleButton:e.handleButton}));if(!e.reviewer)for(;t.length<Z;){var l=t.length+1;t.push(r.a.createElement(oe,{key:"".concat(e.user,"-").concat(e.kind,"-star-").concat(l),modal:e.modal,ind:l,id:"".concat(e.user,"-").concat(e.kind,"-star-").concat(l),type:"empty",section:e.section,kind:e.kind,handleButton:e.handleButton}))}}else for(var i=1;i<=Z;i++)t.push(r.a.createElement(oe,{key:"".concat(e.user,"-").concat(e.kind,"-star-").concat(i),modal:e.modal,ind:i,id:"".concat(e.user,"-").concat(e.kind,"-star-").concat(i),type:"empty",section:e.section,kind:e.kind,handleButton:e.handleButton}));else{if(e.whole>0)for(var o=1;o<=e.whole;o++)t.push(r.a.createElement(oe,{key:"".concat(e.section,"-whole-star-").concat(o),modal:e.modal,ind:o,id:"".concat(e.section,"-whole-star-").concat(o),type:"whole",section:e.section,kind:e.kind,handleButton:e.handleButton}));if(e.half>0)for(var d=1;d<=e.half;d++)t.push(r.a.createElement(oe,{key:"".concat(e.section,"-half-star-").concat(d),modal:e.modal,ind:d+e.whole,id:"".concat(e.section,"-half-star-").concat(d),section:e.section,type:"half",kind:e.kind,handleButton:e.handleButton}));if(e.empty>0)for(var s=1;s<=e.empty;s++)t.push(r.a.createElement(oe,{key:"".concat(e.section,"-empty-star-").concat(s),modal:e.modal,ind:s+e.whole+e.half,id:"".concat(e.section,"-empty-star-").concat(s),section:e.section,type:"empty",kind:e.kind,handleButton:e.handleButton}))}return r.a.createElement("div",{id:"user"===e.kind?"".concat(e.prodId,"-").concat(e.kind,"-rating"):"".concat(e.prodId,"-").concat(e.section,"-").concat(e.kind,"-rating"),className:"rating"},t)}function oe(e){var t="user"===e.type?r.a.createElement(b,{fillColor:N}):"whole"===e.type?r.a.createElement(b,{fillColor:B}):"half"===e.type?r.a.createElement(I,{fillColor:B,strokeColor:B}):r.a.createElement(v,{strokeColor:"user"===e.kind?N:B});return r.a.createElement(r.a.Fragment,null,e.reviewer?r.a.createElement("i",{id:"".concat(e.id,"-icon"),className:"".concat(e.type,"-").concat(e.ind,"-star stars")},r.a.createElement(b,{fillColor:L})):"avg"===e.kind&&"info"!==e.section?r.a.createElement("i",{id:"".concat(e.id,"-icon"),className:"".concat(e.type,"-").concat(e.ind,"-star stars")},t):r.a.createElement("button",{type:"button",id:"".concat(e.id,"-icon"),className:"".concat(e.type,"-").concat(e.ind,"-star stars"),"aria-label":"rate ".concat(e.ind," star button"),value:e.ind,onClick:function(t){return e.handleButton("star",t)},tabIndex:e.modal?-1:null},t))}function de(e){return r.a.createElement("button",{type:"button",id:"".concat(e.prodId,"-reviews-link"),className:"links",tabIndex:e.modal?-1:null},"Reviews (",e.reviewCount.toString(),")")}function se(e){return r.a.createElement("p",{id:"".concat(e.prodId,"-description"),className:"paragraphs"},"This a description of your product. It\u2019s very cool and very affordable. You\u2019ll be the envy of all your friends should you buy this product. It\u2019s THAT good.")}function ue(e){return r.a.createElement("strong",{id:"".concat(e.prodId,"-price"),className:"prices"},"$",e.price.toFixed(2))}function ce(e){var t=e.checkIfInCart({prodId:e.prodId,opt:e.opt},S(e.itemsInCart),"opt"),n=t.hasDupe,a=n?t.cart[t.dupeIndex].qty:0,l=parseInt(e.qty)+parseInt(a);return r.a.createElement("button",{type:"submit",id:"".concat(e.id,"-add-to-cart-button"),className:n&&l>T?"add-to-cart buttons":"add-to-cart buttons active","aria-label":"add to cart",disabled:l>T,tabIndex:e.modal?-1:null},r.a.createElement("span",{id:"add-to-cart-span"},r.a.createElement("span",null,n?l<=T?"Update Cart":"Maxed Out":"Add to Cart"),r.a.createElement("i",null,r.a.createElement(f,{fillColor:F}))))}function me(e){return r.a.createElement("section",{id:"".concat(e.prodId,"-reviews-display"),className:"review-displays"},r.a.createElement(he,{modal:e.modal,prodId:e.prodId,userId:e.userId,user:e.user,loggedIn:e.loggedIn,reviews:e.reviews,sort:e.sort,stars:e.stars,reviewBody:e.reviewBody,publishedRating:e.publishedRating,editReview:e.editReview,editOpen:e.editOpen,checkFeedback:e.checkFeedback,rating:e.rating,avg:e.avg,whole:e.whole,half:e.half,empty:e.empty,handleButton:e.handleButton,handleSubmit:e.handleSubmit,handleInput:e.handleInput,handleFocus:e.handleFocus,handleText:e.handleText,handleFilterReviews:e.handleFilterReviews}),e.reviewSubmitted?r.a.createElement("div",{id:"review-submitted",className:"review-prompts"},r.a.createElement("p",null,"Thanks for your feedback!")):r.a.createElement(we,{modal:e.modal,prodId:e.prodId,reviewBody:e.reviewBody,rating:e.rating,user:e.user,userId:e.userId,loggedIn:e.loggedIn,handleSubmit:e.handleSubmit,handleButton:e.handleButton,handleFocus:e.handleFocus,handleUsername:e.handleUsername,handleText:e.handleText}))}function he(e){return r.a.createElement("section",{id:"".concat(e.prodId,"-reviews"),className:"product-reviews"},r.a.createElement("h2",{className:"titles"},"Reviews"),r.a.createElement("div",null,r.a.createElement(ie,{modal:e.modal,prodId:e.prodId,section:"reviews",kind:"avg",whole:e.whole,half:e.half,empty:e.empty}),r.a.createElement("span",null,"Avg Ratings (",e.avg,")")),r.a.createElement("form",{id:"my-rating"},r.a.createElement(ie,{modal:e.modal,prodId:e.prodId,section:"reviews",user:e.userId,kind:"user",rating:e.rating,handleButton:e.handleButton}),r.a.createElement("label",{htmlFor:"my-rating"},e.loggedIn?"Your rating":"Log in to rate")),r.a.createElement(pe,{modal:e.modal,prodId:e.prodId,currentUser:e.userId,reviews:e.reviews,sort:e.sort,stars:e.stars,publishedRating:e.publishedRating,loggedIn:e.loggedIn,editReview:e.editReview,reviewBody:e.reviewBody,editOpen:e.editOpen,checkFeedback:e.checkFeedback,handleButton:e.handleButton,handleFocus:e.handleFocus,handleInput:e.handleInput,handleUsername:e.handleUsername,handleText:e.handleText,handleSubmit:e.handleSubmit,handleFilterReviews:e.handleFilterReviews}))}function pe(e){var t=e.reviews.filter((function(e){return e.review&&!e.hidden})).map((function(t,n){var a=e.currentUser===t.id?e.reviewBody:t.review;return r.a.createElement(ve,{key:"review-".concat(n+1),modal:e.modal,currentUser:e.currentUser,loggedIn:e.loggedIn,prodId:e.prodId,userId:t.id,user:t.user,date:t.date,reviewBody:a,rating:t.rating,publishedRating:t.publishedRating,publishedReview:t.review,editOpen:e.editOpen,feedback:t.feedback,checkFeedback:e.checkFeedback,handleButton:e.handleButton,handleFocus:e.handleFocus,handleUsername:e.handleUsername,handleText:e.handleText,handleSubmit:e.handleSubmit,editReview:e.editReview})}));return r.a.createElement("section",{id:"".concat(e.prodId,"-user-reviews"),className:"reviews-container"},r.a.createElement(fe,{modal:e.modal,handleFilterReviews:e.handleFilterReviews,sort:e.sort}),r.a.createElement(ge,{modal:e.modal,reviews:e.reviews,handleInput:e.handleInput,stars:e.stars}),t)}function fe(e){return r.a.createElement("form",{id:"review-filter-form"},r.a.createElement("label",{htmlFor:"review-filter-form"},"Sort by: "),r.a.createElement("select",{value:e.sort,onChange:function(t){return e.handleFilterReviews(t)},tabIndex:e.modal?-1:null},r.a.createElement("option",{value:"helpful"},"Most Helpful"),r.a.createElement("option",{value:"recent"},"Recent"),r.a.createElement("option",{value:"old"},"Oldest")))}function ge(e){for(var t=[],n=0;n<Z;n++)t.push(r.a.createElement(be,{key:"rating-sort-".concat(n+1),modal:e.modal,val:n+1,handleInput:e.handleInput,reviews:e.reviews,stars:e.stars}));return r.a.createElement("form",{id:"review-ratings-form"},r.a.createElement("label",{htmlFor:"review-ratings-form"},"Sort By Rating"),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"review-ratings",id:"all-stars",value:0,checked:0===e.stars,onChange:function(t){return e.handleInput("ratings",t)},tabIndex:e.modal?-1:null}),r.a.createElement("label",{htmlFor:"all-stars","aria-label":"show all star ratings"},"All")),t)}function be(e){for(var t=[],n=e.reviews.filter((function(t){return t.publishedRating===e.val})).length,a=0;a<e.val;a++)t.push(r.a.createElement(b,{key:"".concat(e.val,"-star-").concat(a+1),fillColor:B}));return r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"".concat(e.val,"-star"),name:"review-ratings",value:e.val,checked:e.stars===e.val,onChange:function(t){return e.handleInput("ratings",t)},tabIndex:e.modal?-1:null}),r.a.createElement("label",{htmlFor:"".concat(e.val,"-star"),"aria-label":"sort by ".concat(e.val)},t,r.a.createElement("span",null,"(",n,")")))}function ve(e){var t=e.userId===e.currentUser&&e.editOpen?"current-user reviews active":e.userId===e.currentUser?"current-user reviews":"reviews";return r.a.createElement("article",{id:"".concat(e.userId,"-review"),className:t},r.a.createElement("h4",{className:"names"},e.user.toUpperCase()),r.a.createElement("span",{className:"dates"},e.date),e.editOpen&&e.userId===e.currentUser?r.a.createElement(we,{modal:e.modal,user:e.user,userId:e.userId,loggedIn:e.loggedIn,reviewBody:e.reviewBody,publishedReview:e.publishedReview,rating:e.rating,publishedRating:e.publishedRating,handleButton:e.handleButton,handleFocus:e.handleFocus,handleUsername:e.handleUsername,handleText:e.handleText,handleSubmit:e.handleSubmit,editReview:e.editReview,editOpen:e.editOpen}):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"comments paragraphs"},e.reviewBody),r.a.createElement(ie,{modal:e.modal,prodId:e.prodId,rating:e.rating,publishedRating:e.publishedRating,kind:"user",section:"review",user:e.userId,reviewer:!0}),r.a.createElement(Ie,{modal:e.modal,prodId:e.prodId,userId:e.userId,currentUser:e.currentUser,feedback:e.feedback,checkFeedback:e.checkFeedback,handleButton:e.handleButton})),e.userId!==e.currentUser||e.editOpen?"":r.a.createElement("button",{type:"button",id:"edit-review",className:"buttons",onClick:function(){return e.editReview()},tabIndex:e.modal?-1:null},"Edit Review"))}function Ie(e){var t=e.checkFeedback(e.userId);return r.a.createElement("div",{id:"".concat(e.prodId,"-").concat(e.userId,"-feedback"),className:"feedback"},r.a.createElement("button",{type:"button",className:"thumbs-down",disabled:e.currentUser===e.userId,value:"down",onClick:function(t){return e.handleButton({type:"feedback",user:e.userId},t)},tabIndex:e.modal?-1:null},r.a.createElement(y,{fillColor:"down"===t?N:B,opacity:"down"===t?1:"up"===t?.25:e.feedback.down>e.feedback.up?1:.25}),"(",e.feedback.down,")"),r.a.createElement("button",{type:"button",className:"thumbs-up",disabled:e.currentUser===e.userId,"data-user":e.userId,value:"up",onClick:function(t){return e.handleButton({type:"feedback",user:e.userId},t)},tabIndex:e.modal?-1:null},r.a.createElement(C,{fillColor:"up"===t?N:B,opacity:"up"===t?1:"down"===t?.25:e.feedback.down<e.feedback.up?1:.25}),"(",e.feedback.up,")"))}function we(e){var t=!(!e.editOpen||e.rating!==e.publishedRating||e.reviewBody!==e.publishedReview);return r.a.createElement("form",{id:"".concat(e.prodId,"-write-review-form"),className:"write-review-form",onSubmit:function(t){return e.handleSubmit(null,"write",t)}},e.loggedIn?r.a.createElement("label",{htmlFor:"".concat(e.prodId,"-write-review-form"),className:"titles"},e.editOpen?"Edit your review":"Write a review"):r.a.createElement("p",{id:"review-must-login",className:"review-prompts"},"You must be logged in to leave a review."),r.a.createElement(Ee,{modal:e.modal,user:e.user,userId:e.userId,prodId:e.prodId,loggedIn:e.loggedIn,reviewBody:e.reviewBody,editOpen:e.editOpen,rating:e.rating,handleButton:e.handleButton,handleFocus:e.handleFocus,handleUsername:e.handleUsername,handleText:e.handleText}),e.loggedIn?r.a.createElement("button",{type:"submit",className:t?"buttons":"active buttons",disabled:t,tabIndex:e.modal?-1:null},"Submit"):r.a.createElement("button",{type:"submit",className:"buttons",disabled:!0,tabIndex:e.modal?-1:null},"Login First"),e.editOpen?r.a.createElement("button",{type:"button",className:"buttons",onClick:function(t){return e.handleButton("cancel",t)},tabIndex:e.modal?-1:null},"Cancel"):null)}function Ee(e){return r.a.createElement("fieldset",{className:e.editOpen?"active":null},r.a.createElement("div",null,r.a.createElement("span",{id:"write-username",className:"usernames"},e.loggedIn&&!e.editOpen?"Posting as ".concat(e.user):""),r.a.createElement("textarea",{name:"review-body",id:"write-review",cols:"30",rows:"10",maxLength:"255",placeholder:e.editOpen?null:"Max length 255 chars",defaultValue:e.editOpen?e.reviewBody:"",onChange:function(t){return e.handleText(t)},tabIndex:e.modal?-1:null,required:!0}),r.a.createElement("span",{id:"character-count"},255-e.reviewBody.length),r.a.createElement(ie,{modal:e.modal,user:e.userId,prodId:e.prodId,section:"write",kind:"user",rating:e.rating,handleButton:e.handleButton})))}function Ce(e){return r.a.createElement("footer",null,"Site copyright ",r.a.createElement("a",{href:"https://www.kylejackson.dev",tabIndex:e.modal?-1:null},"Kyle Jackson")," 2019. All Rights Reserved.")}var ye=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={modal:!1,modalImg:null,modalMsg:null,modalBtn:null,prevEle:null,navOpen:!1,qty:parseInt(O.qty),opt:O.opt,reviews:S(U),sort:"helpful",stars:0,rated:[],loggedIn:null,openLogin:!1,openSignup:!1,user:null,userId:null,rating:null,publishedRating:null,reviewBody:"",reviewSubmitted:!1,edit:!1,itemsInCart:S(H),cartClosed:!0},n.prodName=O.prodName,n.prodId=O.prodId,n.price=O.price,n.subthumbs=Object(d.a)(O.thumb),n.checkIfInCart=n.checkIfInCart.bind(Object(s.a)(n)),n.checkFeedback=n.checkFeedback.bind(Object(s.a)(n)),n.handleModal=n.handleModal.bind(Object(s.a)(n)),n.toggleMenu=n.toggleMenu.bind(Object(s.a)(n)),n.editReview=n.editReview.bind(Object(s.a)(n)),n.handleInput=n.handleInput.bind(Object(s.a)(n)),n.handleFocus=n.handleFocus.bind(Object(s.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(s.a)(n)),n.preventEnter=n.preventEnter.bind(Object(s.a)(n)),n.handleButton=n.handleButton.bind(Object(s.a)(n)),n.handleUsername=n.handleUsername.bind(Object(s.a)(n)),n.handleText=n.handleText.bind(Object(s.a)(n)),n.handleLogin=n.handleLogin.bind(Object(s.a)(n)),n.handleFilterReviews=n.handleFilterReviews.bind(Object(s.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleModal",value:function(e,t){t&&(e.prev=t.target),"close"===e.act?(this.state.prevEle&&this.state.prevEle.focus(),"number"===typeof e.rmv&&this.setState({itemsInCart:S(this.state.itemsInCart).filter((function(t,n){return n!==e.rmv}))}),this.setState({modal:!1,modalImg:!1,modalMsg:null,modalBtn:null,prevEle:null})):this.setState({modal:!0,modalImg:e.img?e.img:null,modalMsg:e.msg?e.msg:null,modalBtn:e.btn?e.btn:null,prevEle:e.prev?e.prev:null})}},{key:"handleInput",value:function(e,t){if("ratings"===e){var n=parseInt(t.target.value);this.setState({stars:n,reviews:n<1?this.state.reviews.map((function(e){return e.hidden&&(e.hidden=!1),e})):this.state.reviews.map((function(e){return e.rating===n?e.hidden=!1:e.hidden=!0,e}))})}else this.handleOptions(e,t)}},{key:"handleOptions",value:function(e,t){var n="number"!==typeof t?t.target.value:t;if("number"===typeof t&&(e.add?n++:n--),"qty"===e.type&&(n>T?(n=T,this.handleModal({msg:"Sorry, you can't have more than ".concat(T," of an item"),prev:t.target})):n-1===-1&&(n=1)),e.ind>-1){var a=S(this.state.itemsInCart);if("qty"===e.type)a[e.ind].qty=parseInt(n),this.setState({itemsInCart:a});else if("opt"===e.type){a[e.ind].opt=n;var r=S(a),l=r.splice(e.ind,1),i=this.checkIfInCart(l[0],r,"opt");i.hasDupe?this.setState({itemsInCart:this.addItem(l[0],i.cart)}):this.setState({itemsInCart:a})}}else"opt"===e.type&&n!==this.state.opt&&this.setState({qty:1}),this.setState(Object(o.a)({},e.type,n))}},{key:"handleFocus",value:function(e){e.target.select()}},{key:"preventEnter",value:function(e){13===e.which&&e.preventDefault()}},{key:"handleSubmit",value:function(e,t,n){var a=this;if(n.preventDefault(),"cart"===t&&e>-1)this.handleModal({msg:"Are you sure you want to delete this item?",btn:{rmv:e}});else if("cart"===t){var r={prodName:this.prodName,prodId:this.prodId,thumb:this.subthumbs,opt:this.state.opt,qty:this.state.qty,price:this.price};this.setState({itemsInCart:this.addItem(r),qty:j.qty,opt:j.opt})}if("login"===t)if(this.state.reviews.some((function(e){return e.id===a.state.userId}))){var l=this.state.reviews.filter((function(e){return e.id===a.state.userId}))[0];this.setState({loggedIn:!0,openLogin:!1,rating:l.rating,publishedRating:l.publishedRating,reviewBody:l.review?l.review:"",reviewSubmitted:!!l.review,rated:l.rated}),l.cart?this.combineCarts(l.cart):this.setState({itemsInCart:this.state.itemsInCart.length>0?S(this.state.itemsInCart):[]}),this.handleFilterReviews(this.state.sort)}else this.handleModal({msg:"There's no user named ".concat(this.state.user,". Trying signing up instead."),prev:document.querySelector("form input")}),this.setState({openLogin:!1,openSignup:!0});else if("signup"===t)if(this.state.reviews.some((function(e){return e.id===a.state.userId})))this.handleModal({msg:"The user ".concat(this.state.user," already exists. Try signing in instead."),prev:document.querySelector("form input")}),this.setState({openSignup:!1,openLogin:!0});else{var i={user:this.state.user,id:this.state.userId,rating:this.state.rating,rated:this.state.rated};this.setState({reviews:S(this.state.reviews).concat(i),loggedIn:!0,openSignup:!1})}else if("logout"===t&&this.state.loggedIn){var o=this.state.itemsInCart.length>0?S(this.state.itemsInCart):[],d=this.state.rated.length>0?S(this.state.rated):[],s=this.state.reviews.map((function(e){return e.id===a.state.userId&&(e.cart=o,e.rated=d),e.hidden&&(e.hidden=!1),e}));this.handleFilterReviews(this.state.sort,s),this.setState(j)}if("write"===t&&this.state.rating){var u=S(this.state.reviews).map((function(e){return e.id===a.state.userId?(e.rating=a.state.rating,e.review=a.state.reviewBody,e.hidden=!1,e.feedback={up:0,down:0},e.publishedRating=a.state.rating,e.date=(new Date).toLocaleDateString("en-US",{dateStyle:"medium",timeStyle:"medium"})):a.state.edit&&e.rated&&e.rated.forEach((function(t,n){t[a.state.userId]&&e.rated.splice(n,1)})),e}));this.setState({reviews:u,reviewSubmitted:!0,publishedRating:this.state.rating}),this.state.edit&&this.editReview(),this.handleModal({msg:"Thanks for your feedback!"})}else"write"===t&&this.handleModal({msg:"Sorry, you must leave a rating first.",prev:n.target.querySelector(".empty-4-star")})}},{key:"checkIfInCart",value:function(e,t,n){var a=t.map((function(t,a){return t.prodId===e.prodId&&t[n]===e[n]?a:-1})).filter((function(e){return e>-1}));return a.length>0?{hasDupe:!0,dupe:t[a[0]],dupeIndex:a[0],cart:t}:{hasDupe:!1,cart:t}}},{key:"addItem",value:function(e,t,n){var a=this.checkIfInCart(e,t||S(this.state.itemsInCart),"opt");if(a.hasDupe){var r=parseInt(a.dupe.qty)+parseInt(e.qty);return r<=T?a.cart[a.dupeIndex].qty=r:(n||this.handleModal({msg:"The max amount of ".concat(e.prodName," - ").concat(e.opt," allowed is ").concat(T),prev:document.querySelector("#nav-cart button")}),a.cart[a.dupeIndex].qty=T),a.cart}return a.cart.concat(e)}},{key:"combineCarts",value:function(e){var t=this;if(this.state.itemsInCart.length>0){var n=S(this.state.itemsInCart);e.forEach((function(e){n=t.addItem(e,n,!0)})),this.setState({itemsInCart:n}),this.handleModal({msg:"Your previously saved items have been combined with your current cart.",prev:document.querySelector("#nav-cart button")})}else this.setState({itemsInCart:e})}},{key:"toggleMenu",value:function(e){"cart"===e?this.setState({cartClosed:!this.state.cartClosed}):this.setState({navOpen:!this.state.navOpen})}},{key:"handleUsername",value:function(e){R(e.target.value)||(this.handleModal({msg:"Your username contains one or more invalid characters. Try again, making sure to avoid: -!$%^&*()_+|~=`{}[]:\";'<>?,./",prev:e.target}),e.target.value=""),this.setState({user:e.target.value,userId:R(e.target.value)})}},{key:"handleButton",value:function(e,t){var n=this;if("checkout"===e&&this.state.itemsInCart&&this.state.itemsInCart.length>0?(this.handleModal({msg:"Thanks for your hypothetical purchase! Since this is just a demo, your cart will be reset.",prev:document.querySelector("#nav-cart button")}),this.setState({itemsInCart:[]})):"checkout"===e&&this.handleModal({msg:"Sorry, there aren't any items in your cart."}),"star"===e&&this.state.loggedIn){var a=t.currentTarget.value,r=this.state.reviews.map((function(e){return e.id===n.state.userId&&(e.rating=parseInt(a)),e}));this.setState({rating:parseInt(a),reviews:r})}else"star"===e&&this.handleModal({msg:"You must be logged in to rate this product.",prev:document.querySelector("form button")});if("thumb"===e){var l=t.currentTarget.value;this.setState({opt:q.map((function(e){return e.id}))[l]})}if("feedback"===e.type){var i=t.currentTarget.value,d=e.user;if(this.state.loggedIn)if(this.state.userId===d)this.handleModal({msg:"You cannot rate your own review"});else{if(this.state.rated.length<1||(this.state.rated.filter((function(e){return e[d]})).length<1||this.state.rated.filter((function(e){return e[d]}))[0][d]!==i)){var s=S(this.state.reviews).map((function(e){return e.id===d&&("up"===i?(e.feedback.up++,n.state.rated.some((function(e){return e[d]}))&&(e.feedback.down>0?e.feedback.down--:e.feedback.down=0)):"down"===i&&(e.feedback.down++,n.state.rated.some((function(e){return e[d]}))&&(e.feedback.up>0?e.feedback.up--:e.feedback.up=0))),e}));this.setState({reviews:s})}var u=S(this.state.rated),c=!u.some((function(e){return e[d]}))?u.concat(Object(o.a)({},d,i)):u.map((function(e){return e[d]&&(e[d]=i),e}));this.setState({rated:c})}else this.handleModal({msg:"You must be logged in to rate a review",prev:document.querySelector("form button")})}if("cancel"===e){this.editReview();var m=S(this.state.reviews).filter((function(e){return e.id===n.state.userId}))[0].review;m!==this.state.reviewBody&&this.setState({reviewBody:m})}}},{key:"checkFeedback",value:function(e){return!!this.state.rated.some((function(t){return t[e]}))&&this.state.rated.filter((function(t){return t[e]}))[0][e]}},{key:"editReview",value:function(){var e=!this.state.edit;this.setState({edit:e})}},{key:"handleFilterReviews",value:function(e,t){var n=t||S(this.state.reviews),a="string"===typeof e?e:e.target.value,r=!t&&this.state.userId;"helpful"===a?this.setState({sort:"helpful",reviews:n.map((function(e){return e.publishedRating?e:(e.hidden=!0,e)})).sort((function(e,t){return e.id===r!==(t.id===r)||e.hidden||t.hidden?e.id===r||e.hidden?1:-1:t.feedback.up-e.feedback.up}))}):"recent"===a?this.setState({sort:"recent",reviews:n.map((function(e){return e.publishedRating?e:(e.hidden=!0,e)})).sort((function(e,t){return e.id===r!==(t.id===r)||e.hidden||t.hidden?e.id===r||e.hidden?1:-1:Date.parse(t.date)-Date.parse(e.date)}))}):"old"===a&&this.setState({sort:"old",reviews:n.map((function(e){return e.publishedRating?e:(e.hidden=!0,e)})).sort((function(e,t){return e.id===r!==(t.id===r)||e.hidden||t.hidden?e.id===r||e.hidden?1:-1:Date.parse(e.date)-Date.parse(t.date)}))})}},{key:"handleText",value:function(e){var t=e.target.value;this.setState({reviewBody:t})}},{key:"handleLogin",value:function(e){"login"===e.target.value?this.setState({openLogin:!0,openSignup:!1},(function(){return document.querySelector("#login-form input").focus()})):this.setState({openSignup:!0,openLogin:!1})}},{key:"render",value:function(){var e;return this.state.itemsInCart.length>0?this.state.itemsInCart.forEach((function(t){e?e+=parseInt(t.qty):e=parseInt(t.qty)})):e=0,r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{show:this.state.modal,img:this.state.modalImg,msg:this.state.modalMsg,btn:this.state.modalBtn,prev:this.state.prevEle,handleModal:this.handleModal}),r.a.createElement(D,{modal:this.state.modal,handleModal:this.handleModal,navOpen:this.state.navOpen,itemsInCart:this.state.itemsInCart,itemCount:e,cartClosed:this.state.cartClosed,handleInput:this.handleInput,handleFocus:this.handleFocus,handleSubmit:this.handleSubmit,preventEnter:this.preventEnter,toggleMenu:this.toggleMenu,user:this.state.user,loggedIn:this.state.loggedIn,openLogin:this.state.openLogin,openSignup:this.state.openSignup,handleUsername:this.handleUsername,handleLogin:this.handleLogin,handleButton:this.handleButton}),r.a.createElement(ne,{modal:this.state.modal,handleModal:this.handleModal,user:this.state.user?this.state.user:"Your Name",userId:this.state.userId?this.state.userId:"your-name",loggedIn:this.state.loggedIn,rating:this.state.rating,itemsInCart:this.state.itemsInCart,prodName:this.prodName,prodId:this.prodId,thumb:this.subthumbs[this.state.opt?q.map((function(e){return e.id})).indexOf(this.state.opt):0],subthumbs:this.subthumbs,qty:this.state.qty,opt:this.state.opt,price:this.price,reviews:this.state.reviews,sort:this.state.sort,stars:this.state.stars,checkFeedback:this.checkFeedback,reviewBody:this.state.reviewBody,publishedRating:this.state.publishedRating,reviewSubmitted:this.state.reviewSubmitted,editReview:this.editReview,editOpen:this.state.edit,checkIfInCart:this.checkIfInCart,handleInput:this.handleInput,handleFocus:this.handleFocus,handleSubmit:this.handleSubmit,handleButton:this.handleButton,handleUsername:this.handleUsername,handleText:this.handleText,handleFilterReviews:this.handleFilterReviews}),r.a.createElement(Ce,{modal:this.state.modal}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.a5d37312.chunk.js.map